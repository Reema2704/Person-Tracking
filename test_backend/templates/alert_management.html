<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Alert Manager</title>
    <link rel="stylesheet" type="text/css" href="/static/css/style.css">
</head>
<body style='background: url("/static/images/login-background.png");'>
    <div style=" width: 100%;height: 10vh;">
  <img src="/static/images/secure_ai.svg"  style="height: 10vh;width: 200px; margin-left: 1%;">
  </div>
  <div>
   <input type="button" onclick="location.href='/high_chart';" style="margin-left: -160px;margin-top: 60px; width: 100px; height: 30px; color: white;background-color: #06143a; border-radius: 8px; border: 1px solid white;" value="Visualize" />
   </div>
    <div class="alert_table">
      <table id="users">

      </table>
    </div>
  </div>
</body>
<script>

function fetchAndDisplayEntries()
  {
    var apiUrl = '/tracks/alert_management';
    fetch(apiUrl).then(response => {
      return response.json();
    }).then(data => {
      const dataArray = data;
      // Work with JSON data here
      console.log(data);
      // 2. Create a variable to store HTML table headers
      let li = `<thead><tr><th>Person Id</th><th>Camera Locations</th><th>Timestamp</th></tr></thead>`;

  // 3. Loop through each data and add a table row
  dataArray.forEach((item) => {
        li += `<tbody>
          <tr>
          <td>${item.person_id}</td>
          <td>${item.camera_id}</td>
          <td>${item.timestamp}</td>
        </tr>
        </tbody>`;
      });
      document.getElementById("users").innerHTML = li;
    }).catch(err => {
      // Do something for an error here
    });
  }

  fetchAndDisplayEntries();
</script>
</html>